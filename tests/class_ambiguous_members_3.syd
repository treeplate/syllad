// expected error: cannot override non-constant variable foo with constant variable (parsetime error)
// unexpected output: test
// unexpected output: 2
// unexpected output: 1

class A {
  IntegerFunction foo;

  Integer original() {
    return 1;
  }

  Null test() {
    println('test');
    println(foo());
    foo = original; // should throw
    println(foo);
    println(foo());
  }
}

class B extends A {
  //#override
  Integer foo() { return 2; }
}

B().test();